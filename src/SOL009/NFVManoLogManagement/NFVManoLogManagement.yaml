openapi: 3.0.2
info:
  version: 1.0.0-impl:etsi.org:ETSI_NFV_OpenAPI:1
  title: SOL009 - NFV-MANO Log Management interface
  description: >
    SOL009 - NFV-MANO Log Management interface

    IMPORTANT: Please note that this file might be not aligned to the current version of the ETSI Group Specification
     it refers to. In case of discrepancies the published ETSI Group Specification takes precedence.

    Please report bugs to https://forge.etsi.org/bugzilla/buglist.cgi?component=Nfv-Openapis&list_id=61&product=NFV&resolution=
  license:
    name: ETSI Forge copyright notice
    url: https://forge.etsi.org/etsi-forge-copyright-notice.txt
externalDocs:
  description: ETSI GS NFV-SOL 009 V0.8.0
  url: https://docbox.etsi.org/ISG/NFV/Open/Drafts/SOL009ed331_MANO_mgmt_stage_3/NFV-SOL009ed331v080.zip

security:
  - OauthSecurity:
      - all
servers:
  - url: http://127.0.0.1/nfvmanologm/v1
  - url: https://127.0.0.1/nfvmanologm/v1

paths:
  "/api_versions":
      $ref: '../endpoints/SOL009_endpoints.yaml#/endpoints/api_versions'
  "/log_jobs":
    description: >-
      This resource represents logging jobs. The API consumer can use this resource to create and query logging jobs.
    post:
      description: >-
        The POST method creates a logging job.
        This method shall follow the provisions specified in the tables 8.5.3.3.1-1 and 8.5.3.3.1-2 for URI query
        parameters, request and response data structures, and response codes.
        As the result of successfully executing this method, a new "Individual logging job" resource as defined in
        clause 9.5.4 shall have been created.
      parameters:
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      requestBody:
        $ref: "#/components/requestBodies/CreateLoggingJobRequest"
      responses:
        "201":
          $ref: '#/components/responses/LoggingJob.Post'
        "400":
          $ref: ../responses/SOL009_resp.yaml#/responses/400
        "401":
          $ref: ../responses/SOL009_resp.yaml#/responses/401
        "403":
          $ref: ../responses/SOL009_resp.yaml#/responses/403
        "404":
          $ref: ../responses/SOL009_resp.yaml#/responses/404
        "405":
          $ref: ../responses/SOL009_resp.yaml#/responses/405
        "406":
          $ref: ../responses/SOL009_resp.yaml#/responses/406
        "422":
          $ref: ../responses/SOL009_resp.yaml#/responses/422
        "500":
          $ref: ../responses/SOL009_resp.yaml#/responses/500
        "503":
          $ref: ../responses/SOL009_resp.yaml#/responses/503
        "504":
          $ref: ../responses/SOL009_resp.yaml#/responses/504
    get:
      description: >-
        The API consumer can use this method to retrieve information about logging jobs.
        This method shall follow the provisions specified in the tables 8.5.3.3.2-1 and 8.5.3.3.2-2 for
        URI query parameters, request and response data structures, and response codes.
      parameters:
        - $ref: "#/components/parameters/filter"
        - $ref: "#/components/parameters/all_fields"
        - $ref: "#/components/parameters/fields"
        - $ref: "#/components/parameters/exclude_fields"
        - $ref: "#/components/parameters/exclude_default"
        - $ref: "#/components/parameters/nextpage_opaque_marker"
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      responses:
        "200":
          $ref: '#/components/responses/LoggingJobs.Get'
        "400":
          $ref: ../responses/SOL009_resp.yaml#/responses/400
        "401":
          $ref: ../responses/SOL009_resp.yaml#/responses/401
        "403":
          $ref: ../responses/SOL009_resp.yaml#/responses/403
        "404":
          $ref: ../responses/SOL009_resp.yaml#/responses/404
        "405":
          $ref: ../responses/SOL009_resp.yaml#/responses/405
        "406":
          $ref: ../responses/SOL009_resp.yaml#/responses/406
        "422":
          $ref: ../responses/SOL009_resp.yaml#/responses/422
        "500":
          $ref: ../responses/SOL009_resp.yaml#/responses/500
        "503":
          $ref: ../responses/SOL009_resp.yaml#/responses/503
        "504":
          $ref: ../responses/SOL009_resp.yaml#/responses/504

  "/log_jobs/{logJobId}":
    description: >-
      This resource represents an individual logging job. The API consumer can use this resource to delete
      and read the underlying logging job.
    get:
      description: >-
        The API consumer can use this method for reading an individual logging job.
        This method shall follow the provisions specified in the tables 8.5.4.3.2-1 and 8.5.4.3.2-2 for
        URI query parameters, request and response data structures, and response codes.
      parameters:
        - $ref: "#/components/parameters/logJobId"
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"

      responses:
        "200":
          $ref: '#/components/responses/LoggingJob.Get'
        "400":
          $ref: ../responses/SOL009_resp.yaml#/responses/400
        "401":
          $ref: ../responses/SOL009_resp.yaml#/responses/401
        "403":
          $ref: ../responses/SOL009_resp.yaml#/responses/403
        "404":
          $ref: ../responses/SOL009_resp.yaml#/responses/404
        "405":
          $ref: ../responses/SOL009_resp.yaml#/responses/405
        "406":
          $ref: ../responses/SOL009_resp.yaml#/responses/406
        "422":
          $ref: ../responses/SOL009_resp.yaml#/responses/422
        "500":
          $ref: ../responses/SOL009_resp.yaml#/responses/500
        "503":
          $ref: ../responses/SOL009_resp.yaml#/responses/503
        "504":
          $ref: ../responses/SOL009_resp.yaml#/responses/504

    delete:
      description: >-
        This method terminates an individual logging job.
        This method shall follow the provisions specified in the tables 8.5.4.3.5-1 and 8.5.4.3.5-2 for URI
        query parameters, request and response data structures, and response codes.
        As the result of successfully executing this method, the "Individual logging job" resource shall not
        exist any longer
      parameters:
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Authorization"
      responses:
        "204":
          $ref: '#/components/responses/LoggingJob.Delete'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "422":
          $ref: '../responses/SOL009_resp.yaml#/responses/422'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'

  "/log_jobs/{logJobId}/log_reports/{logReportId}":
    description: >-
      This resource represents an individual log report. The API consumer can use this resource to read
      information about a log report.
      The log report provides metadata information about a log and location information of the log file
      from where it can be obtained.
      NOTE:	The present document does not specify the mechanism how to retrieve the log files.
    get:
      description: >-
        The API consumer can use this method for reading an individual log report.
        This method shall follow the provisions specified in the tables 8.5.5.3.2-1 and
        8.5.5.3.2-2 for URI query parameters, request and response data structures, and response codes.
      parameters:
        - $ref: "#/components/parameters/logJobId"
        - $ref: "#/components/parameters/logJReportId"
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      responses:
        "200":
          $ref: '#/components/responses/LogReport.Get'
        "202":
          $ref: '#/components/responses/LogReport.Get.202'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "422":
          $ref: '../responses/SOL009_resp.yaml#/responses/422'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'

  "/log_jobs/{logJobId}/compile_log":
    description: >-
      This resource represents the "Compile log" operation. The API consumer can use this resource to request
      compiling the logged data, collected via a logging job, into a file and creating the associated log report.
      As the result of successfully processing this request, a new "Individual log report" resource shall be created.
      Two modes of operation, synchronous or asynchronous, can take place depending on whether the NFV-MANO functional
      entity can compile the log data and create the log report immediately. In the synchronous case, which is
      indicated by responding with "201 Created", the resource shall be created before the "201 Created" response
      is returned. In the asynchronous case, which is indicated by responding with "202 Accepted", the resource may
      be created after the response is returned.
    post:
      description: >-
        The POST method requests to compile the logged data into a file and create an associated log report.
        This method shall follow the provisions specified in the tables 8.5.6.3.1-1 and 8.5.6.3.1-2 for URI
        query parameters, request and response data structures, and response codes.
      parameters:
        - $ref: "#/components/parameters/logJobId"
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      requestBody:
        $ref: "#/components/requestBodies/CompileLogRequest"
      responses:
        "200":
          $ref: '#/components/responses/LogReportCompiled'
        "202":
          $ref: '#/components/responses/LogReportCompiled.202'
        "303":
          $ref: '#/components/responses/LogReportCompiled.303'
        "422":
          $ref: '#/components/responses/LogReportCompiled.422'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'

  "/subscriptions":
    description: >-
      This resource represents subscriptions. The client can use this resource to subscribe to notifications
      related to NFV-MANO performance management and to query its subscriptions.
    post:
      description: >-
        The POST method creates a new subscription.
        This method shall follow the provisions specified in the tables 8.5.7.3.1-1 and 8.5.7.3.1-2 for URI query
         parameters, request and response data structures, and response codes.
        As the result of successfully executing this method, a new "Individual subscription" resource as defined in
        clause 8.5.8 shall have been created. This method shall not trigger any notification.
        Creation of two "Individual subscription" resources with the same callbackURI and the same filter can result
        in performance degradation and will provide duplicates of notifications to the API consumer, and might make
        sense only in very rare use cases. Consequently, the NFV-MANO functional entity may either allow creating a
        new "Individual subscription" resource if another "Individual subscription" resource with the same filter
        and callbackUri already exists (in which case it shall return the "201 Created" response code), or may decide
        to not create a duplicate "Individual subscription" resource (in which case it shall return a "303 See Other"
        response code referencing the existing "Individual subscription" resource with the same filter and callbackUri).
      parameters:
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      requestBody:
        $ref: '#/components/requestBodies/LogmSubscriptionRequest'
      responses:
        "201":
          $ref: '#/components/responses/LogmSubscription'
        "303":
          $ref: '#/components/responses/LogmSubscription.303'
        "422":
          $ref: '../responses/SOL009_resp.yaml#/responses/422'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'
    get:
      description: >-
        The API consumer can use this method to query the list of active subscriptions to log management
        notifications subscribed by the API consumer.
        This method shall follow the provisions specified in the tables 8.5.7.3.2-1 and 8.5.7.3.2-2 for URI
        query parameters, request and response data structures, and response codes.

      parameters:
        - $ref: "#/components/parameters/filter"
        - $ref: "#/components/parameters/nextpage_opaque_marker"
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      responses:
        "200":
          $ref: '#/components/responses/LogmSubscriptions'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'

  "/subscriptions/{subscriptionId}":
    description: >-
      This resource represents an individual subscription for notifications about log management related events.
      The API consumer can use this resource to read and to terminate a subscription to notifications related
      o NFV-MANO log management.
    parameters:
      - $ref: "#/components/parameters/subscriptionId"
    get:
      description: >-
        The API consumer can use this method for reading an individual subscription about log management
        notifications subscribed by the API consumer.
        This method shall follow the provisions specified in the tables 8.5.8.3.2-1 and 8.5.8.3.2-2 for
        URI query parameters, request and response data structures, and response codes.
      parameters:
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Accept"
        - $ref: "#/components/parameters/Authorization"
      responses:
        "200":
          $ref: '#/components/responses/LogmSubscription.Get'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'

    delete:
      description: >-
        This method terminates an individual subscription.
        This method shall follow the provisions specified in the tables 8.5.8.3.5-1 and 8.5.8.3.5-2 for
        URI query parameters, request and response data structures, and response codes.
        As the result of successfully executing this method, the "Individual subscription" resource shall not exist any
        longer. This means that no notifications for that subscription shall be sent to the
        formerly-subscribed API consumer.
        NOTE:	Due to race conditions, some notifications might still be received by the formerly-subscribed
        API consumer for a certain time period after the deletion.
      parameters:
        - $ref: "#/components/parameters/Version"
        - $ref: "#/components/parameters/Authorization"
      responses:
        "204":
          $ref: '#/components/responses/LogmSubscription.Delete'
        "400":
          $ref: '../responses/SOL009_resp.yaml#/responses/400'
        "401":
          $ref: '../responses/SOL009_resp.yaml#/responses/401'
        "403":
          $ref: '../responses/SOL009_resp.yaml#/responses/403'
        "404":
          $ref: '../responses/SOL009_resp.yaml#/responses/404'
        "405":
          $ref: '../responses/SOL009_resp.yaml#/responses/405'
        "406":
          $ref: '../responses/SOL009_resp.yaml#/responses/406'
        "422":
          $ref: '../responses/SOL009_resp.yaml#/responses/422'
        "500":
          $ref: '../responses/SOL009_resp.yaml#/responses/500'
        "503":
          $ref: '../responses/SOL009_resp.yaml#/responses/503'
        "504":
          $ref: '../responses/SOL009_resp.yaml#/responses/504'

components:
  parameters:
    Version:
      name: Version
      description: >-
        Version of the API requested to use when responding to this request
      in: header
      required: true
      schema:
        type: string
    Accept:
      name: Accept
      description: >-
        Content-Types that are acceptable for the response. Reference: IETF RFC 7231
      in: header
      required: true
      schema:
        type: string
    Authorization:
      name: Authorization
      description: >-
        The authorization token for the request. Reference: IETF RFC 7235
      in: header
      required: false
      schema:
        type: string
    logJobId:
      name: logJobId
      in: path
      description: >-
        Identifier of the logging job.
      required: true
      schema:
        $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
    logJReportId:
      name: logJReportId
      in: path
      description: >-
        Identifier of the report.
      required: true
      schema:
        $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
    subscriptionId:
      name: subscriptionId
      in: path
      description: >-
        Identifier of the subscription
      required: true
      schema:
        $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
    filter:
      name: filter
      in: query
      description: >-
        Attribute-based filtering expression according to clause 5.2 of ETSI GS NFV-SOL 013.
        The NFV-MANO functional entity shall support receiving this parameter as part of the URI query string.
        The API consumer may supply this parameter.
        All attribute names that appear in the LoggingJob and in data types referenced from it shall be supported by
        the NFV-MANO functional entity in the filter expression
      required: false
      schema:
        type: string
    all_fields:
      name: all_fields
      in: query
      description: >-
        Include all complex attributes in the response. See clause 5.3 of ETSI GS NFV-SOL 013 for details.
        The NFV-MANO functional entity shall support this parameter.
      required: false
      schema:
        type: string
    fields:
      name: fields
      in: query
      description: >-
        Complex attributes to be included into the response. See clause 5.3 of ETSI GS NFV-SOL 013 for details.
        The NFV-MANO functional entity should support this parameter.
      required: false
      schema:
        type: string
    exclude_fields:
      name: exclude_fields
      in: query
      description: >-
        Complex attributes to be excluded from the response. See clause 5.3 of ETSI GS NFV-SOL 013 for details.
        The NFV-MANO functional entity should support this parameter.
      required: false
      schema:
        type: string
    exclude_default:
      name: exclude_default
      in: query
      description: >-
       Indicates to exclude the following complex attributes from the response. See clause 5.3 of ETSI GS NFV-SOL 013
       for details. The NFV-MANO functional entity shall support this parameter.
       The following attributes shall be excluded from the LoggingJob structure in the response body if this parameter
       is provided, or none of the parameters "all_fields," "fields", "exclude_fields", "exclude_default" are provided
        -logReports
      required: false
      schema:
        type: string
    nextpage_opaque_marker:
      name: nextpage_opaque_marker
      in: query
      description: >-
        Marker to obtain the next page of a paged response. Shall be supported by the NFV-MANO functional entity if
        the NFV-MANO functional entity supports alternative 2 (paging) according to clause 5.4.2.1 of
        ETSI GS NFV-SOL 013 for this resource.
      required: false
      schema:
        type: string

  requestBodies:
    LogmSubscriptionRequest:
      description: >-
        Details of the subscription to be created
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LogmSubscriptionRequest"
    CreateLoggingJobRequest:
      description: >-
        This type represents a request to create a logging job. It shall comply with the provisions
        defined in table 8.6.2.5-1.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CreateLoggingJobRequest"
      required: true
    CompileLogRequest:
      description: >-
        Log compilation request.
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CompileLogRequest"
      required: true

  responses:
    LogmSubscription.Delete:
      description: >-
        Shall be returned when the "Individual subscription" resource has been deleted successfully.
        The response body shall be empty.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string

    LogmSubscription.Get:
      description: >-
        Shall be returned when the subscription has been read successfully.
        The response body shall contain a representation of the "Individual subscription" resource,
        as defined in clause 8.6.2.3.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LogmSubscription"

    LogmSubscriptions:
      description: >-
        Shall be returned when the list of subscriptions has been queried successfully.
        The response body shall contain in an array the representations of all active subscriptions of
        the functional block that invokes the method, i.e. zero or more representations of log management
        subscriptions as defined in clause 8.6.2.3.
        If the "filter" URI parameter was supplied in the request, the data in the response body shall have
        been transformed according to the rules specified in clause 5.2.2 of ETSI GS NFV-SOL 013.
        If the NFV-MANO functional entity supports alternative 2 (paging) according to clause 5.4.2.1 of
        ETSI GS NFV-SOL 013 for this resource, inclusion of the Link HTTP header in this response shall follow
        the provisions in clause 5.4.2.3 of ETSI GS NFV-SOL 013 .
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "#/components/schemas/LogmSubscription"

    LogmSubscription:
      description: >-
        Shall be returned when the subscription has been created successfully.
        A representation of the created "Individual subscription" resource shall be returned in the response body,
        as defined in clause 8.6.2.3.
        The HTTP response shall include a "Location" HTTP header that contains the resource URI of the created
        "Individual subscription" resource.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
        Location:
          description: >
            URI of the "Individual log report" resource just created
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LogmSubscription"

    LogmSubscription.303:
      description: >-
        Shall be returned when a subscription with the same callbackURI and the same filter already exists and the
        policy of the NFV-MANO functional entity is to not create redundant subscriptions.
        The HTTP response shall include a "Location" HTTP header that contains the resource URI of the existing
        "Individual subscription" resource.
        The response body shall be empty.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
        Location:
          description: >
            URI of the "Individual log report" resource just created
          schema:
            type: string

    LogReportCompiled:
      description: >-
        Shall be returned for a successful compilation of the log data and creation of the associated log report
        (synchronous mode).
        The response body shall contain a representation of the log report resource, as defined in clause 8.6.2.7.
        The HTTP response shall include a "Location" HTTP header that indicate the URI of the
        "Individual log report" resource just created
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
        Location:
          description: >
            URI of the "Individual log report" resource just created
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LogReport"

    LogReportCompiled.202:
      description: >-
        Shall be returned when the request has been accepted for processing, and it is expected to take some
        time to compile the log file and create the associated log report (asynchronous mode).
        The response body shall be empty.
        The HTTP response shall include a "Location" HTTP header that indicates the URI of the
        "Individual log report" resource that will be created once the log file compilation is completed.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
        Location:
          description: >
            The URI of the "Individual log report" resource that will be created once the log file
            compilation is completed.
          schema:
            type: string

    LogReportCompiled.303:
      description: >-
        Shall be returned when a log data compilation and report creation is already ongoing, or a log report has just been
        created, for the specified logging job at the time of processing the request.
        The response body shall be empty.
        The HTTP response shall include a "Location" HTTP header that contains the resource URI of the log report
        resource just created, or to be created by the ongoing compilation and report creation.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
        Location:
          description: >
            The URI of the log report resource just created, or to be created by the ongoing compilation
            and report creation
          schema:
            type: string

    LogReportCompiled.422:
      description: >-
        The general cause for this error and its handling is specified in clause 6.4 of ETSI GS NFV-SOL 013,
        including rules for the presence of the response body.
        Specifically, in case of this task resource, the response code 422 shall also be returned if the
        "objectInstanceId" value provided in the payload body of the request does not correspond to an object
        instance for which log data is being collected by the logging job represented by this resource.
        The response body shall contain a ProblemDetails structure, in which the "detail" attribute should
        convey more information about the error.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: '../definitions/SOL009_def.yaml#/definitions/ProblemDetails'

    LogReport.Get:
      description: >-
        Shall be returned when information of an individual log report has been read successfully.
        The response body shall contain a representation of the "Individual log report" resource, as
        defined in clause 8.6.2.7.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LogReport"

    LogReport.Get.202:
      description: >-
        Shall be returned if the creation of the log report is ongoing and no log report is available yet
        (applicable in asynchronous mode of the "Compile log task" resource).
        The response body shall be empty.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string

    LoggingJob.Get:
      description: >-
        Shall be returned when information about an individual logging job has been read successfully.
        The response body shall contain a representation of the "Individual logging job" resource,
        as defined in clause 8.6.2.6.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LoggingJob"

    LoggingJob.Delete:
      description: >-
        Shall be returned when the logging job has been deleted successfully.
        The response body shall be empty.
      headers:
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >-
            Version of the API used in the response.
          schema:
            type: string

    LoggingJob.Post:
      description: >-
        The response body contains the Application Context as it was created
        by the MEC system
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/LoggingJob"
    LoggingJobs.Get:
      description: >-
        Shall be returned when information about zero or more logging jobs has been queried successfully.

        The response body shall contain in an array the representations of zero or more logging jobs, as
        defined in clause 8.6.2.6.

        If the "filter" URI parameter or one of the "all_fields", "fields" (if supported), "exclude_fields"
        (if supported) or "exclude_default" URI parameters was supplied in the request, the data in the response
        body shall have been transformed according to the rules specified in clauses 5.2.2 and 5.3.2 of
        ETSI GS NFV-SOL 013, respectively.

        If the NFV-MANO functional entity supports alternative 2 (paging) according to clause 5.4.2.1 of
        ETSI GS NFV-SOL 013 for this resource, inclusion of the Link HTTP header in this response shall
        follow the provisions in clause 5.4.2.3 of ETSI GS NFV-SOL 013.
      headers:
        Content-Type:
          description: The MIME type of the body of the response.
          schema:
            type: string
        WWW-Authenticate:
          description: >
            Challenge if the corresponding HTTP request has not provided
            authorization, or error details if the corresponding HTTP
            request has provided an invalid authorization token.
          schema:
            type: string
        Version:
          description: >
            Version of the API used in the response.
          schema:
            type: string
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "#/components/schemas/LoggingJob"
  schemas:
    LogmSubscription:
      description: >-
        This type represents a subscription. It shall comply with the provisions defined in table 8.6.2.3-1.
      type: object
      required:
        - id
        - callbackUri
        - _links
      properties:
        id:
          description: >-
            Identifier that identifies the subscription.
          $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
        filter:
          description: >-
            Filter settings for this subscription, to define the subset of all notifications this subscription
            relates to. A particular notification is sent to the subscriber if the filter matches,
            or if there is no filter
          $ref: "#/components/schemas/LogmNotificationsFilter"
        callbackUri:
          description: >-
            The URI of the endpoint to send the notification to.
          $ref: '../definitions/SOL009_def.yaml#/definitions/Uri'
        _links:
          description: >-
            Links to resources related to this resource.
          type: object
          required:
            - self
          properties:
            self:
              description: >-
                URI of this resource.
              $ref: '../definitions/SOL009_def.yaml#/definitions/Link'

    LogmNotificationsFilter:
      description: >-
        This type represents a filter that can be used to subscribe for notifications related to log
        management events. It shall comply with the provisions defined in table 8.6.3.7-1.
        At a particular nesting level in the filter structure, the following applies: All attributes
        shall match in order for the filter to match (logical "and" between different filter attributes).
        If an attribute is an array, the attribute shall match if at least one of the values in the array matches
        (logical "or" between the values of one filter attribute).
      type: object
      properties:
        objectInstanceFilter:
          description: >-
            Filter criteria to select object instance about which to notify.
          $ref: "#/components/schemas/ManoEntitySubscriptionFilter"
        notificationTypes:
          description: >-
            Match particular notification types.
            Permitted values:
            - LogReportAvailableNotification
          type: string
          enum: [LogReportAvailableNotification]

    ManoEntitySubscriptionFilter:
      description: >-
        This type represents subscription filter criteria to match NFV-MANO functional entities and their
        associated managed objects. It shall comply with the provisions defined in Table 4.3.2.2-1.
      type: object
      required:
        anyOf:
          - oneOf:
            - manoServiceIds
            - manoServiceNames
          - oneOf:
            - manoServiceInterfaceIds
            - manoServiceInterfaceNames
          - oneOf:
            - consumedManoInterfaceIds
            - consumedManoInterfaceNames
      properties:
        manoEntityId:
          description: >-
            If present, match the NFV-MANO functional entity with an instance identifier listed in this attribute.
          $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
        manoServiceIds:
          description: >-
            If present, match NFV-MANO services with an instance identifier listed in this attribute.
          type: array
          items:
            $ref: '../definitions/SOL009_def.yaml#/definitions/IdentifierInManoEntity'
        manoServiceNames:
          description: >-
            If present, match NFV-MANO services with an NFV-MANO service name listed in this attribute.
          type: array
          items:
            type: string
        manoServiceInterfaceIds:
          description: >-
            If present, match NFV-MANO functional entity produced interfaces with an instance
            identifier listed in this attribute.
          type: array
          items:
            $ref: '../definitions/SOL009_def.yaml#/definitions/IdentifierInManoEntity'
        manoServiceInterfaceNames:
          description: >-
            If present, match NFV-MANO functional entity produced interfaces with an instance Name listed in
            this attribute.
          type: array
          items:
            type: string
        consumedManoInterfaceIds:
          description: >-
            If present, match NFV-MANO functional entity consumed interfaces with an instance identifier
            listed in this attribute.
          type: array
          items:
            $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
        consumedManoInterfaceNames:
          description: >-
            If present, match NFV-MANO functional entity consumed interfaces with an instance Name
            listed in this attribute.
          type: array
          items:
            type: string

    CompileLogRequest:
      description: >
        This type represents a request to compile the logged data associated to an object instance.
        It shall comply with the provisions defined in table 8.6.2.8-1.
      type: object
      properties:
        objectInstanceId:
          description: >
            Identifier of the object instance for which logging information is requested to be compiled. The provided
            value shall correspond to an object instance for which log data is being collected as specified in the
            corresponding "LoggingJob". If not present, the compile log request is requested for all managed object
            instances associated to the logging job.
          $ref: "#/components/schemas/ManoManagedObjectReference"
    LogReport:
      description: >
        This type represents a log report, which provides information about a compiled log and how to obtain it.
        It shall comply with the provisions defined in table 8.6.2.7-1.
      type: object
      required:
        - id
        - objectInstanceId
        - compilationTrigger
        - readyTime
        - fileFormat
        - fileLocationInfo
        - securityAndIntegrityInfo
        - _links
      properties:
        id:
          description: >-
            Identifier of this log report.
          $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
        objectInstanceId:
          description: >-
            Identifiers of the object instance for which logging information is collected.
            This attribute shall contain the identifier of the instance of the object that is
            logged according to their type.
          $ref: '#/components/schemas/ManoManagedObjectReference'
        compilationTrigger:
          description: >-
            The trigger for the compilation of the log file.

            Permitted values:
            - ON_DEMAND: created based on explicit request by a client.
            - AUTOMATIC: created according to the logging job compilation configuration.
          type: string
          enum: [ON_DEMAND, AUTOMATIC]
        readyTime:
          description: >-
            The time when the report and log file was made available.
          $ref: '../definitions/SOL009_def.yaml#/definitions/DateTime'
        expiryTime:
          description: >-
            The time when the report and log file will expire.
          $ref: '../definitions/SOL009_def.yaml#/definitions/DateTime'
        fileSize:
          description: >-
            The size of the compiled log file in bytes, if known.
          type: integer
          format: int32
        fileFormat:
          description: >-
            The encoding used by the file.
          type: string
        fileLocationInfo:
          description: >-
            Location and address information of the compiled log file. The consumer can use this information
            to obtain the compiled log file.
          type: object
          required:
            - protocol
            - fileEndpoint
          properties:
            protocol:
              description: >-
                Protocol over which the compiled log file can be retrieved.

                Permitted values:
                - HTTPS: transmission over HTTP Secure (HTTPS).
                - SFTP: transmission over SSH file transfer protocol (SFTP).
                - SCP: transmission over secure copy protocol (SCP).
                - FTPS: transmission over file transfer protocol secure (FTPS), as specified in IETF RFC 2228 [i.11],
                     using explicit mode as specified in IETF RFC 4217 [i.12]. If FTPS is supported, "private" protection level shall be used.

                HTTPS shall be supported, and other protocols may be supported.
              type: string
              enum: [HTTPS, SFTP, SCP, FTPS]
            fileEndpoint:
              description: >-
                The host name (or IP address), optionally a port number (if the host with the compile log file uses a
                non-standard port number as per the supported transmission protocol), a valid file directory path,
                and the file name of the compiled log file, or a valid URL.
              type: string
              format: URI
        securityAndIntegrityInfo:
          description: >-
            Security and integrity information for the compilation of the log files.
          type: object
          required:
            - algorithm
            - hash
            - logFileSignature
            - signingCertificate
          properties:
            algorithm:
              description: >-
                Algorithm used to generate the hash of the compiled log file. Only SHA-256 and SHA-512 shall be used
              type: string
            hash:
              description: >-
                The hexadecimal value of the hash of the compiled log file. The hash shall be computed
                from the encrypted compiled log file, in case the encryption applies.
              type: string
            encryptionPublicKey:
              description: >-
                Public key used for the encryption of the compiled log file. Shall be present if the
                compiled log file is encrypted.
              type: string
            cipherAlgorithm:
              description: >-
                The cryptographic algorithm used for the encryption. Shall be present if the compiled log file is
                encrypted. Valid values are: "AES-CBC-128", "AES-GCM-128", "AES-CBC-256", and "AES-GCM-256",
                as specified in clause 6.5 of ETSI GS NFV-SEC 012 [14].
              type: string
            logFileSignature:
              description: >-
                Signature to the compiled log file generated with the NFV-MANO functional entity’s private key,
                which is used to ensure the authenticity of the compiled log file. The signature shall be applied
                according to the "encryptAndSignOrder" of the "LoggingJobConfig".
              type: string
            signingCertificate:
              description: >-
                X.509 certificate with the NFV-MANO functional entity’s public key used for verifying the
                log report and compiled log file signatures.
              type: string
        _links:
          description: >-
            Links for this resource.
          type: object
          required:
            - self
          properties:
            self:
              description: >-
                URI of this resource.
              $ref: '../definitions/SOL009_def.yaml#/definitions/Link'
            objects:
              description: >-
                Links to resources representing the object instances that are logged. Shall be present
                if the logged object instance information is accessible as a resource.
              type: array
              items:
                $ref: '../definitions/SOL009_def.yaml#/definitions/Link'

    LogmSubscriptionRequest:
      description: >-
        Information on application context created by the MEC system
        type: object
      required:
        - callbackUri
      type: object
      properties:
        filter:
          description: >-
            Filter settings for this subscription, to define the subset of all notifications this subscription
            relates to. A particular notification is sent to the subscriber if the filter matches,
            or if there is no filter.
          $ref: "#/components/schemas/LogmNotificationsFilter"
        callbackUri:
          description: >
            The URI of the endpoint to send the notification to.
          $ref: "../definitions/SOL009_def.yaml#/definitions/Uri"
        authentication:
          description: >
            Authentication parameters to configure the use of Authorization when sending notifications
            corresponding to this subscription, as defined in clause 8.3.4 of ETSI GS NFV-SOL 013.
            This attribute shall only be present if the subscriber requires authorization of notifications.
          $ref: "../definitions/SOL009_def.yaml#/definitions/SubscriptionAuthentication"

    CreateLoggingJobRequest:
      description: >-
        Information on application context created by the MEC system
      type: object
      required:
        - objectInstanceIds
        - jobCriteria
        - jobConfig
      properties:
        objectInstanceIds:
          description: >-
            Identifiers of the object instance for which logging information is requested to be collected.
            This attribute shall contain the identifier of the instance of the object to be logged according to their type.
            If more than one identifier is provided, values shall all refer to object instances of the same type,
            for which the same criteria is then applicable.
          type: array
          minItems: 1
          items:
            $ref: "#/components/schemas/ManoManagedObjectReference"
        jobCriteria:
          description: >-
            Criteria of the collection of logging information.
          $ref: "#/components/schemas/LoggingJobCriteria"
        jobConfig:
          description: >-
            Configuration about the logging job.
          $ref: "#/components/schemas/LoggingJobConfig"

    ManoManagedObjectReference:
      description: >-
        This type represents the identifier to reference a managed object of a particular type.
        It shall comply with the provisions defined in Table 4.3.2.3-1.
      type: object
      required:
        - type
        - objectId
      properties:
        type:
          description: >-
            Indicates the type of managed object.

            Permitted values:
            - MANO_ENTITY
            - MANO_SERVICE
            - MANO_SERVICE_IF
            - CONSUMED_MANO_IF
            - MANO_ENTITY_COMPONENT
          type: string
          enum: [MANO_ENTITY, MANO_SERVICE, MANO_SERVICE_IF, CONSUMED_MANO_IF, MANO_ENTITY_COMPONENT]
        objectId:
          description: >-
            Identifier of the managed object.

            - If type="MANO_ENTITY", it corresponds to the value of the attribute "id" of the "ManoEntity"
               representing an NFV-MANO functional entity.
            - If type="MANO_SERVICE", it corresponds to the value of the attribute "id" of the "ManoEntity"
               representing the NFV-MANO functional entity that contains the "ManoService" sub-object.
            - If type="MANO_SERVICE_IF", it corresponds to the value of the attribute "id" of the
              "ManoServiceInterface" representing the NFV-MANO functional entity that contains the
              "ManoServiceInterface" sub-object.
            - If type="CONSUMED_MANO_IF", the value corresponds to the value of the attribute "id" of the
              "ConsumedManoInterfaceInfo" representing a consumed NFV-MANO service interface from a peer
               functional entity.
            - If type="MANO_ENTITY_COMPONENT", the value corresponds to the value of the attribute "id" of the
               "ManoEntity" representing the NFV-MANO functional entity that contains
          $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
        subObjectId:
          description: >-
            Identifier of the managed sub-object. It shall be present if type equals to "MANO_SERVICE" or
            "MANO_SERVICE_IF" or "MANO_ENTITY_COMPONENT".

            - If type="MANO_SERVICE", it corresponds to the value of the attribute "id" of the "ManoService"
               representing an individual NFV-MANO service.
            - If type="MANO_SERVICE_IF", it corresponds to the value of the attribute "id" of the "ManoServiceInterface"
              representing an individual NFV-MANO service interface.
            - If type="MANO_ENTITY_COMPONENT", it corresponds to the value of the attribute "id" of the "ManoEntityComponent"
              representing an NFV-MANO functional entity component
          $ref: '../definitions/SOL009_def.yaml#/definitions/IdentifierInManoEntity'

    LoggingJob:
      description: >-
        This type represents a logging job. It shall comply with the provisions defined in table 8.6.2.6-1.
      type: object
      required:
        - id
        - objectInstanceIds
        - jobCriteria
        - jobConfig
        - _links
      properties:
        id:
          description: >-
            Identifier of this logging job.
          $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
        objectInstanceIds:
          description: >-
            Identifiers of the object instance for which logging information is collected. This attribute shall
            contain the identifier of the instance of the object that is logged according to their type.
          type: array
          items:
            $ref: "#/components/schemas/ManoManagedObjectReference"
        jobCriteria:
          description: >-
            Criteria of the collection of logging information.
          $ref: "#/components/schemas/LoggingJobCriteria"
        jobConfig:
          description: >-
            Configuration about the logging job.
          $ref: "#/components/schemas/LoggingJobConfig"
        logReports:
          description: >-
            Information about available log reports created by the logging job.
          type: array
          items:
            type: object
            required:
              - logReportId
              - logReportLoc
            properties:
              logReportId:
                description: >-
                  Identifier of the available log report.
                $ref: '../definitions/SOL009_def.yaml#/definitions/Identifier'
              logReportLoc:
                description: >-
                  Link to the available log report.
                $ref: '../definitions/SOL009_def.yaml#/definitions/Link'
        _links:
          description: >-
            Links for this resource.
          type: object
          required:
            - self
          properties:
            self:
              description: >-
                URI of this resource.
              $ref: '../definitions/SOL009_def.yaml#/definitions/Link'
            objects:
              description: >-
                Links to resources representing the object instances that are logged. Shall be present
                if the logged object instance information is accessible as a resource.
              type: array
              items:
                $ref: '../definitions/SOL009_def.yaml#/definitions/Link'

    LoggingJobCriteria:
      description: >-
        This type represents collection criteria for logging jobs. It shall comply with the provisions
        defined in table 8.6.3.2-1.
      type: object
      required:
        - loggingType
      properties:
        loggingType:
          description: >-
            Type of logging. This defines the types of logged information to collect.

            Permitted values:
            - MESSAGES: logged NFV-MANO service interface messages.
            - SERVICES: logged messages about processes pertaining to NFV-MANO services.
            - SYSTEM: logged messages about the NFV-MANO functional entity’s system enabled by the provider.
          type: string
          enum: [MESSAGES, SERVICES, SYSTEM]
        messagesLogDetail:
          description: >-
            Values for the collection of logged NFV-MANO service interface messages. Shall be
            present if loggingType="MESSAGES".
          type: object
          $ref: "#/components/schemas/LoggingJobMessagesCriteria"
        servicesLogDetail:
          description: >-
            Values for the collection of logged NFV-MANO service messages. Shall be present if loggingType="SERVICES".
          type: object
          $ref: "#/components/schemas/LoggingJobServicesCriteria"
        systemLogDetail:
          description: >-
            Values for the collection of logged messages about the NFV-MANO functional entity’s system.
            Shall be present if loggingType="SYSTEM".
          type: object
          $ref: "#/components/schemas/LoggingJobSystemCriteria"

    LoggingJobMessagesCriteria:
      description: >-
        This type represents criteria for logging jobs to collect logged messages on NFV-MANO service interfaces.
        It shall comply with the provisions defined in table 8.6.3.3-1.
      type: object
      required:
        - direction
      properties:
        direction:
          description: >-
            The direction of the interface messages to match.

            Permitted values:
            - IN: input messages into the interface.
            - OUT: output messages from the interface.
            - ALL: both input and output messages into/from the interface.
          type: string
          enum: [IN, OUT,ALL]
        matchingPatterns:
          description: >-
            Patterns to be matched in the interface message. If provided, only messages that match all the
            values provided in the sub-attributes shall be logged. An API consumer can provide more than one
            "matchingPattern" if combinations of patterns are to be considered to match diverse sets of interface
            messages.
          type: array
          items:
            type: object
            anyOf:
              - required:
                  - srcIpAddress
              - required:
                  - dstIpAddress
              - required:
                  - requestMethod
              - required:
                  - requestUriPattern
              - required:
                  - responseCodes
            properties:
              srcIpAddress:
                  description: >-
                    IP address to match the source IP address of request messages to log. The API producer
                    shall support this attribute.
                  $ref: '../definitions/SOL009_def.yaml#/definitions/IpAddress'
              requestMethod:
                description: >-
                  HTTP request method to be matched. To match, the HTTP request method of the message shall be the
                  same as the value of this attribute. Valid values are specified in IETF RFC 7231. The API producer
                  shall support this attribute.
                type: string
              requestUriPattern:
                description: >-
                  Substring to be matched in the request URI. To match, the request URI shall include the value of
                   this attribute as a substring. This is typically used to match messages which associate to RESTful
                   resources, or to a specific API (e.g., by using the "apiName" of the API). The API producer shall
                   support this attribute.
                type: string
              dstIpAddress:
                description: >-
                  IP address to match the destination IP address of response messages to log. The API
                  producer shall support this attribute
                $ref: '../definitions/SOL009_def.yaml#/definitions/IpAddress'
              responseCodes:
                description: >-
                  HTTP response codes or patterns to match. A list of all valid HTTP response codes and their
                  specification documents can be obtained from the HTTP status code registry. In addition,
                  if supported, the following patterns may be used (case-insensitive):
                  - "1XX": for matching any kind of informational response.
                  - "2XX": for matching any kind of success response.
                  - "3XX": for matching any kind redirection response.
                  - "4XX": for matching any kind of client error response.
                  - "5XX": for matching any kind of server error response.

                  The API producer shall support this attribute
                type: array
                items:
                    type: string
              headerField:
                description: >-
                  Name of the header field to be matched. The header field name shall be one of the supported fields
                  in a request message as defined in clause 4.2.2 of ETSI GS NFV-SOL 013 or in a response message
                  as defined in clause 4.2.3 of ETSI GS NFV-SOL 013, in accordance with the "direction" criteria
                  input.
                  The API producer may support this attribute.
                type: string
              headerValue:
                description: >-
                  Value in the header to be matched. To match, the value in the header field indicated by
                  "headerField" shall be the same as in this attribute. Shall be provided if a "headerField"
                  is provided. The API producer may support this attribute.
                type: string
              bodyValues:
                description: >-
                  A list of strings to be matched in the body part of the interface message (e.g., the body of an
                  HTTP message). If provided, only messages with text in the body part containing all the values from
                  the list shall match the filter. In addition to a matching filter for the body of the message, a
                  corresponding "headerField" filter shall also be provided, with "headerField" set to "Content-Type",
                  to restrict matching to appropriate textual payloads such as "application/json" or "text/plain".
                  The API producer may support this attribute
                type: string

    LoggingJobServicesCriteria:
      description: >-
        This type represents criteria for logging jobs to collect logged messages about processes pertaining
        to NFV-MANO services. It shall comply with the provisions defined in table 8.6.3.4-1.
      type: object
      properties:
        logGarbageCollection:
          description: >-
            Indicates to collect logged information about garbage collection processes associated to NFV-MANO services.
          type: boolean

    LoggingJobSystemCriteria:
      description: >-
        This type represents criteria for logging jobs to collect logged system events of the NFV-MANO functional
        entity. It shall comply with the provisions defined in table 8.6.3.5-1.
      type: object
      required:
        - systemLogs
        - severityLevel
      properties:
        systemLogs:
          description: >-
            Values for the provider enabled system logs.
          $ref: "../definitions/SOL009_def.yaml#/definitions/KeyValuePairs"
        severityLevelScheme:
          description: >-
            Identifies a severity level scheme.
            The default value is "rfc5424", which represents the set of values specified in the clause 6.2.1,
            table 2 of IETF RFC 5424. Other values may be used to signal different schemes.
          type: string
        severityLevel:
          description: >-
            The severity level, which determines the severity of the system messages to collect. The NFV-MANO
            functional entity shall collect system log messages, as indicated by the "systemLogs" attribute,
            with severity levels lower (i.e., more severe) or equal to the value provided by this present attribute.
          type: number

    LoggingJobConfig:
      description: >-
        This type represents configuration data for a logging job. It shall comply with the provisions
        defined in table 8.6.3.6-1.
        NOTE: The present document version does not specify the support for "log compilation and reporting based
        on events" as specified in clause 6.6.2.2 of ETSI GS NFV-IFA 031.
      type: object
      required:
        - reportingCondition
        - securityConf
      properties:
        startTime:
          description: >-
            Specifies the time for the logging job to be started. If not provided, the logging job is
            requested to start immediately.
          $ref: "../definitions/SOL009_def.yaml#/definitions/DateTime"
        endTime:
          description: >-
            Specifies the time after which the logging job will stop. Shall only be provided if the
            logging job is requested to stop at a specific time.
          $ref: "../definitions/SOL009_def.yaml#/definitions/DateTime"
        reportingCondition:
          description: >-
            Specifies the condition under which the producer will report to the consumer about the compiled log data.
          required:
            - reportingType
          properties:
            reportingType:
              description: >-
                Specifies the type of reporting condition.
                Permitted values:
                - REPORTING_ON_COMPILATION: the producer shall notify the consumer once the compilation of the
                                collected logging data into a file is completed and a new log report is available.
                - NO_REPORTING: no reporting is requested (the consumer can query the logging jobs to know about the
                                availability of new log reports).

              type: string
              enum: [REPORTING_ON_COMPILATION, NO_REPORTING]
            minimumReportingPeriod:
              description: >-
                Specifies the minimum periodicity at which the producer will report to the consumer about the
                collected log information, in seconds.
              type: integer
              format: int32
        compileBySizeValue:
          description: >-
            An indicative size threshold for compiling the collected log data, in bytes. It is used when the
            compilation is based on the size of the collected log data. If not present, a default value as
            specified with the "defaultLogCompileBySizeValue" configuration in the "ManoEntityConfigurableParams"
            shall be used
          type: integer
          format: int32
        compileByTimerValue:
          description: >-
            The periodicity threshold for compiling the filtered log, in seconds. It is used when the compilation
            is based on a timer (e.g., every 24 hours). If not present, a default value as specified with the
            "defaultLogCompileByTimerValue" configuration in the "ManoEntityConfigurableParams" shall be used
          type: integer
          format: int32
        securityConf:
          description: >-
            Configuration about the security aspects of the logging job.
          type: object
          properties:
            logFileEncryption:
              description: >-
                Information about the encryption of the compiled log files. Shall be present if the log
                file is requested to be encrypted.
              required:
                - encryptionCertificate
                - cipherAlgorithm
              type: object
              properties:
                encryptionCertificate:
                  description: >-
                    X.509 certificate with the public key to use for the encryption of the compiled log file.
                  type: string
                cipherAlgorithm:
                  description: >-
                    Cryptographic algorithm to be used for the encryption of the compiled log file. More than
                    one algorithm can be provided from higher (lower array index) to lower (higher array index)
                    precedence. Valid values are: "AES-CBC-128", "AES-GCM-128", "AES-CBC-256", and "AES-GCM-256",
                    as specified in clause 6.5 of ETSI GS NFV-SEC 012
                  type: array
                  items:
                    type: string
                    minItems: 1
                encryptAndSignOrder:
                  description: >-
                    Indication about the order in signing and encrypting the compiled log file. Valid values are:
                    "encryptFirst", to apply the order "first encrypt, then sign", and "signFirst" for the order
                    "first sign, then encrypt". Default value is "encryptFirst".
                  type: string
            logTransferSecurity:
              description: >-
                Information about the security measures for retrieving/accessing the compiled log files.
              type: object
              properties:
                publicKey:
                  description: >-
                    The public key of the API consumer used for the client authentication with the file server.
                    Shall be provided if required by the type of transfer protocol. May be omitted if the key has
                    been provided to the API producer by other means, or if it has already been provided in some
                    previous CreateLoggingJobRequest issued by the same API consumer, whose public key has not changed.
                  type: string



